RGT Tunnel Manager

اسکریپت RGT  یک اسکریپت قدرتنمد برای راه اندازی تانل بر پایه پروتکل TCP و UDP‌میباشد که از دو روش مستقیم و ریورس پشتیبانی میکنم. مصرف منابع این تانل بهینه سازی شده و در چند ثانیه قادر خواهید بود تانل خود را راه اندازی کنید

ویژگی‌ها

راه‌اندازی سریع: تونل معکوس یا مستقیم (ایران ↔ خارج) را در چند مرحله ساده راه‌اندازی کنید.
نظارت بر پهنای باند: بررسی مصرف پهنای باند تونل با ابزار سبک vnstat.
مدیریت خودکار خطاها: تشخیص خطاهای متوالی در لاگ‌ها و ریستارت خودکار تونل.
انعطاف‌پذیری بالا: پشتیبانی از پروتکل‌های TCP/UDP، آدرس‌های IPv4/IPv6 و پورت‌های دلخواه.
بعد از اولین اجرا با دستور RGT در دسترس می باشد
ادغام با Systemd: تونل‌ها به‌صورت سرویس‌های پایدار اجرا می‌شوند.
رابط کاربری جذاب: منوهای رنگی و پیام‌های واضح برای تجربه کاربری بهتر.


پیش‌نیازها

سیستم‌عامل: لینوکس (تست‌شده روی اوبونتو/دبیان).
دسترسی ریشه (Root): اسکریپت باید با دسترسی ریشه اجرا شود.
وابستگی‌ها: ابزارهای unzip، jq، curl و vnstat (به‌صورت خودکار توسط اسکریپت نصب می‌شوند).
هسته RGT: فایل RGT_x86_64_linux.zip را در مسیر /root/RGT/ قرار دهید اگر به GitHub دسترسی ندارید.


راهنمای شروع سریع

اجرا RGT:

اگر سرور شما به گیتهاب دسترسی دارد :
```
wget https://github.com/black-sec/RGT/raw/main/core/RGT_x86_64_linux.zip -O /root/RGT/RGT_x86_64_linux.zip
```


اگر به GitHub دسترسی ندارید، فایل RGT_x86_64_linux.zip را با SFTP به مسیر /root/RGT/ روی سرور آپلود کنید:
```
put RGT_x86_64_linux.zip /root/RGT/RGT_x86_64_linux.zip
```




دانلود و اجرای اسکریپت:

اسکریپت را از لینک زیر دانلود کنید:
```
wget https://github.com/black-sec/RGT/raw/main/rgt_manager.sh -O /root/rgt_manager.sh
chmod +x /root/rgt_manager.sh
```


یا فایل rgt_manager.sh را با SFTP به مسیر /root/ آپلود کنید.



اجرای اسکریپت:
```
RGT
```





راه‌اندازی تونل:

از منوی اصلی، گزینه 1) راه‌اندازی تونل را انتخاب کنید.
گزینه 2) معکوس (Reverse) را انتخاب کنید (گزینه مستقیم در حال توسعه است).
نوع سرور را انتخاب کنید: 1) ایران یا 2) خارج.
اطلاعات مورد نیاز (نام تونل، آدرس IP، پورت‌ها و ...) را وارد کنید.
اسکریپت تونل را به‌صورت خودکار راه‌اندازی می‌کند.




معرفی منوها
منوی اصلی

1) راه‌اندازی تونل: راه‌اندازی تونل جدید معکوس یا مستقیم.
زیرمنو: نوع تونل
1) مستقیم (Direct): در حال توسعه.
2) معکوس (Reverse): راه‌اندازی تونل معکوس.
1) ایران: تنظیم سرور ایران 
2) خارج: تنظیم سرور خارج






2) مدیریت تونل: مشاهده و مدیریت تونل‌های موجود.
زیرمنو: دستورات تونل
1) ویرایش تونل: تغییر پورت تونل، پورت‌های سرویس، توکن امنیتی یا IP ایران (برای سرور خارج).
2) ریستارت تونل: راه‌اندازی مجدد سرویس تونل.
3) حذف تونل: حذف تونل و سرویس systemd آن.
4) مشاهده پهنای باند: نمایش میزان مصرف پهنای باند تونل
5) مشاهده لاگ‌ها: نمایش لاگ‌های تونل 
6) مشاهده وضعیت: بررسی وضعیت سرویس تونل.




3) نصب هسته: نصب هسته RGT از فایل زیپ محلی (/root/RGT/RGT_x86_64_linux.zip) یا URL دلخواه.
4) حذف هسته: حذف هسته RGT و تنظیمات آن (ابتدا باید تمام تونل‌ها حذف شوند).
5) به‌روزرسانی اسکریپت: به‌روزرسانی اسکریپت از GitHub یا URL جایگزین.
6) ابزارهای RGT: بخش در حال توسعه برای ابزارهای آینده.
7) خروج: خروج از اسکریپت.


مثال: راه‌اندازی تونل معکوس

اسکریپت را اجرا کنید:
```
RGT
```


از منوی اصلی، 1) راه‌اندازی تونل → 2) معکوس → 1) ایران را انتخاب کنید 

اطلاعات زیر را وارد کنید:

نام تونل: main-tunnel
آدرس IP: 0.0.0.0 (برای IPv4) یا [::] (برای IPv6)
پورت تونل: 4000 
نوع انتقال: TCP
پورت‌های سرویس: 3530 (یا پورت‌های دلخواه)
توکن امنیتی: RGT (یا توکن دلخواه)


اسکریپت تونل را به‌صورت سرویس systemd راه‌اندازی می‌کند.

برای سرور خارج، همین مراحل را با انتخاب 2) خارج تکرار کنید و IP ایران و پورت تونل (4000) را وارد کنید.



نکات مهم

دسترسی به GitHub: اگر سرور شما به GitHub دسترسی ندارد، فایل RGT_x86_64_linux.zip را در /root/RGT/ قرار دهید و اسکریپت را با متغیر RGT_LOCAL_ZIP اجرا کنید.

فایروال: مطمئن شوید پورت‌های انتخابی (مثلاً 4000/UDP و 3530/TCP) در فایروال باز هستند:
```
ufw allow 4000/udp
ufw allow 3530/tcp
```

مانیتورینگ پهنای باند: پس از راه‌اندازی تونل، از گزینه مشاهده پهنای باند برای بررسی مصرف استفاده کنید.

رفع خطاها: اسکریپت به‌صورت خودکار دو خطای متوالی در لاگ‌ها را شناسایی کرده و تونل را ریستارت می‌کند.



پشتیبانی

مخزن GitHub: black-sec/RGT
تماس: از طریق GitHub Issues یا تلگرام (@Coderman_ir)
مشکلات دسترسی: اگر به GitHub دسترسی ندارید، با مدیر سرور خود برای آپلود فایل‌ها هماهنگ کنید.
